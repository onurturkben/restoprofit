<!-- Hammadde Ekle -->
<div class="modal fade" id="modalAddMaterial" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" method="POST" action="{{ url_for('add_material') }}">
      <div class="modal-header">
        <h5 class="modal-title fw-bold">Yeni Hammadde</h5>
        <button class="btn-close" data-bs-dismiss="modal" aria-label="Kapat"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label class="form-label">Ad</label>
          <input name="h_isim" type="text" class="form-control" required>
        </div>
        <div class="row g-2">
          <div class="col-6">
            <label class="form-label">Birim</label>
            <input name="h_birim" type="text" class="form-control" placeholder="kg, adet…" required>
          </div>
          <div class="col-6">
            <label class="form-label">Birim Fiyat (TL)</label>
            <input name="h_fiyat" type="number" step="0.01" min="0" class="form-control" required>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-light" data-bs-dismiss="modal" type="button">İptal</button>
        <button class="btn btn-dark" type="submit">Ekle</button>
      </div>
    </form>
  </div>
</div>

<!-- Hammadde Düzenle -->
<div class="modal fade" id="modalEditMaterial" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" method="POST" action="#">
      <div class="modal-header">
        <h5 class="modal-title fw-bold">Hammadde Düzenle</h5>
        <button class="btn-close" data-bs-dismiss="modal" aria-label="Kapat"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label class="form-label">Ad</label>
          <input name="isim" type="text" class="form-control" required>
        </div>
        <div class="row g-2">
          <div class="col-6">
            <label class="form-label">Birim</label>
            <input name="birim" type="text" class="form-control" required>
          </div>
          <div class="col-6">
            <label class="form-label">Birim Fiyat (TL)</label>
            <input name="fiyat" type="number" step="0.01" min="0" class="form-control" required>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-light" data-bs-dismiss="modal" type="button">İptal</button>
        <button class="btn btn-dark" type="submit">Kaydet</button>
      </div>
    </form>
  </div>
</div>

<!-- Ürün Ekle -->
<div class="modal fade" id="modalAddProduct" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <form class="modal-content" method="POST" action="{{ url_for('add_product') }}">
      <div class="modal-header">
        <h5 class="modal-title fw-bold">Yeni Ürün</h5>
        <button class="btn-close" data-bs-dismiss="modal" aria-label="Kapat"></button>
      </div>
      <div class="modal-body">
        <div class="row g-2">
          <div class="col-12 col-md-6">
            <label class="form-label">Menü Adı</label>
            <input name="u_isim" type="text" class="form-control" required>
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label">Excel/Adisyon Adı</label>
            <input name="u_excel_adi" type="text" class="form-control" required>
          </div>
          <div class="col-6 col-md-4">
            <label class="form-label">Satış Fiyatı (TL)</label>
            <input name="u_fiyat" type="number" step="0.01" min="0" class="form-control" required>
          </div>
          <div class="col-6 col-md-4">
            <label class="form-label">Kategori</label>
            <input name="u_kategori" type="text" class="form-control" required>
          </div>
          <div class="col-12 col-md-4">
            <label class="form-label">Kategori Grubu</label>
            <input name="u_grup" type="text" class="form-control" required>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-light" data-bs-dismiss="modal" type="button">İptal</button>
        <button class="btn btn-dark" type="submit">Ekle</button>
      </div>
    </form>
  </div>
</div>

<!-- Ürün Düzenle -->
<div class="modal fade" id="modalEditProduct" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <form class="modal-content" method="POST" action="#">
      <div class="modal-header">
        <h5 class="modal-title fw-bold">Ürün Düzenle</h5>
        <button class="btn-close" data-bs-dismiss="modal" aria-label="Kapat"></button>
      </div>
      <div class="modal-body">
        <div class="row g-2">
          <div class="col-12 col-md-6">
            <label class="form-label">Menü Adı</label>
            <input name="isim" type="text" class="form-control" required>
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label">Excel/Adisyon Adı</label>
            <input name="excel_adi" type="text" class="form-control" required>
          </div>
          <div class="col-6 col-md-4">
            <label class="form-label">Satış Fiyatı (TL)</label>
            <input name="fiyat" type="number" step="0.01" min="0" class="form-control" required>
          </div>
          <div class="col-6 col-md-4">
            <label class="form-label">Kategori</label>
            <input name="kategori" type="text" class="form-control" required>
          </div>
          <div class="col-12 col-md-4">
            <label class="form-label">Kategori Grubu</label>
            <input name="grup" type="text" class="form-control" required>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-light" data-bs-dismiss="modal" type="button">İptal</button>
        <button class="btn btn-dark" type="submit">Kaydet</button>
      </div>
    </form>
  </div>
</div>

<!-- Reçete Ekle -->
<div class="modal fade" id="modalAddRecipe" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" method="POST" action="{{ url_for('add_recipe') }}">
      <div class="modal-header">
        <h5 class="modal-title fw-bold">Reçeteye Hammadde Ekle</h5>
        <button class="btn-close" data-bs-dismiss="modal" aria-label="Kapat"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label class="form-label">Ürün</label>
          <select name="r_urun_id" class="form-select" required>
            <option value="" disabled selected>Seçin…</option>
            {% for u in urunler %}
            <option value="{{ u.id }}">{{ u.isim }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Hammadde</label>
          <select name="r_hammadde_id" class="form-select" required>
            <option value="" disabled selected>Seçin…</option>
            {% for h in hammaddeler %}
            <option value="{{ h.id }}">{{ h.isim }} ({{ h.maliyet_birimi }})</option>
            {% endfor %}
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Miktar</label>
          <input name="r_miktar" type="number" step="0.001" min="0" class="form-control" placeholder="0.150" required>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-light" data-bs-dismiss="modal" type="button">İptal</button>
        <button class="btn btn-success" type="submit">Ekle</button>
      </div>
    </form>
  </div>
</div>

<!-- Reçete Düzenle -->
<div class="modal fade" id="modalEditRecipe" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" method="POST" action="#">
      <div class="modal-header">
        <h5 class="modal-title fw-bold">Reçete Kalemi Düzenle</h5>
        <button class="btn-close" data-bs-dismiss="modal" aria-label="Kapat"></button>
      </div>
      <div class="modal-body">
        <div class="mb-2"><strong>Ürün:</strong> <span id="recUrun"></span></div>
        <div class="mb-2"><strong>Hammadde:</strong> <span id="recHammadde"></span></div>
        <div class="mb-3">
          <label class="form-label">Miktar (<span id="recBirim"></span>)</label>
          <input name="edit_r_miktar" type="number" step="0.001" min="0" class="form-control" required>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-light" data-bs-dismiss="modal" type="button">İptal</button>
        <button class="btn btn-dark" type="submit">Kaydet</button>
      </div>
    </form>
  </div>
</div>
